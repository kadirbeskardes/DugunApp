@model DugunApp.Models.UploadViewModel
@{
    ViewData["Title"] = "AnÄ± YÃ¼kle";
}

<!-- Hero Section -->
<section class="page-hero">
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title">AnÄ±nÄ±zÄ± PaylaÅŸÄ±n</h1>
            <p class="hero-description">
                DÃ¼ÄŸÃ¼n anÄ±larÄ±nÄ±zÄ± fotoÄŸraf, video veya mesaj olarak paylaÅŸÄ±n. 
                TÃ¼m anÄ±lar gÃ¼venle saklanÄ±r.
            </p>
        </div>
    </div>
</section>

<!-- Upload Form Section -->
<section class="upload-section">
    <div class="container">
        <div class="upload-container">
            <div class="upload-form-wrapper">
                <h2 class="form-title">AnÄ± DetaylarÄ±</h2>
                <form asp-action="Upload" method="post" class="upload-form" id="uploadForm" enctype="multipart/form-data">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="form-group">
                        <label asp-for="GuestName" class="form-label"></label>
                        <input asp-for="GuestName" class="form-input" />
                        <span asp-validation-for="GuestName" class="text-danger"></span>
                    </div>
                    
                    <div class="form-group">
                        <label asp-for="GuestMessage" class="form-label"></label>
                        <textarea asp-for="GuestMessage" class="form-textarea" rows="4" placeholder="DÃ¼ÄŸÃ¼n sahiplerine mesajÄ±nÄ±zÄ± yazÄ±n..."></textarea>
                        <span asp-validation-for="GuestMessage" class="text-danger"></span>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">FotoÄŸraf/Video</label>
                        <div class="file-upload-area" id="fileUploadArea">
                            <div class="upload-icon">
                                <img src="https://images.unsplash.com/photo-1519225421980-715cb0215aed?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" 
                                     alt="YÃ¼kleme" class="upload-icon-img">
                            </div>
                            <p class="upload-text">Dosya seÃ§in veya sÃ¼rÃ¼kleyip bÄ±rakÄ±n</p>
                            <p class="upload-hint">Maksimum 10MB, JPG, PNG, MP4 desteklenir</p>
                            <input type="file" id="fileUpload" class="file-input" accept="image/*,video/*" multiple name="Files">
                        </div>
                        <span asp-validation-for="Files" class="text-danger"></span>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-checkbox">
                            <input asp-for="Consent" />
                            <span class="checkmark"></span>
                            <span class="checkbox-text">
                                AnÄ±mÄ±n paylaÅŸÄ±lmasÄ±na ve saklanmasÄ±na izin veriyorum
                            </span>
                        </label>
                        <span asp-validation-for="Consent" class="text-danger"></span>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-xl w-100">
                        AnÄ±yÄ± GÃ¶nder
                    </button>
                </form>
            </div>
            
            <div class="upload-info">
                <h3 class="info-title">NasÄ±l Ã‡alÄ±ÅŸÄ±r?</h3>
                <div class="info-content">
                    <div class="info-item">
                        <div class="info-icon">
                            <img src="https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" 
                                 alt="Kolay" class="info-icon-img">
                        </div>
                        <div class="info-text">
                            <h4>Kolay YÃ¼kleme</h4>
                            <p>DosyanÄ±zÄ± seÃ§in veya sÃ¼rÃ¼kleyip bÄ±rakÄ±n</p>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <div class="info-icon">
                            <img src="https://images.unsplash.com/photo-1518895949257-5641c3e00606?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" 
                                 alt="GÃ¼venli" class="info-icon-img">
                        </div>
                        <div class="info-text">
                            <h4>GÃ¼venli Depolama</h4>
                            <p>TÃ¼m anÄ±lar gÃ¼venle saklanÄ±r ve korunur</p>
                        </div>
                    </div>
                    
                    <div class="info-item">
                        <div class="info-icon">
                            <img src="https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" 
                                 alt="AnÄ±nda" class="info-icon-img">
                        </div>
                        <div class="info-text">
                            <h4>AnÄ±nda PaylaÅŸÄ±m</h4>
                            <p>DÃ¼ÄŸÃ¼n sahipleri anÄ±nda gÃ¶rebilir</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const fileUploadArea = document.getElementById('fileUploadArea');
        const fileInput = document.getElementById('fileUpload');
        
        fileUploadArea.addEventListener('dragover', function(e) {
            e.preventDefault();
            fileUploadArea.classList.add('drag-over');
        });
        
        fileUploadArea.addEventListener('dragleave', function(e) {
            e.preventDefault();
            fileUploadArea.classList.remove('drag-over');
        });
        
        fileUploadArea.addEventListener('drop', function(e) {
            e.preventDefault();
            fileUploadArea.classList.remove('drag-over');
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                fileInput.files = files;
                updateFilePreview(files);
            }
        });
        
        fileInput.addEventListener('change', function(e) {
            if (e.target.files.length > 0) {
                updateFilePreview(e.target.files);
            }
        });
        
        fileUploadArea.addEventListener('click', function() {
            fileInput.click();
        });
        
        function updateFilePreview(files) {
            const existingPreviews = fileUploadArea.querySelectorAll('.file-preview');
            existingPreviews.forEach(preview => preview.remove());
            
            Array.from(files).forEach(file => {
                const preview = document.createElement('div');
                preview.className = 'file-preview';
                
                if (file.type.startsWith('image/')) {
                    const img = document.createElement('img');
                    img.src = URL.createObjectURL(file);
                    img.className = 'preview-img';
                    preview.appendChild(img);
                } else {
                    const icon = document.createElement('div');
                    icon.className = 'preview-icon';
                    icon.textContent = 'ðŸŽ¥';
                    preview.appendChild(icon);
                }
                
                const fileName = document.createElement('p');
                fileName.className = 'preview-name';
                fileName.textContent = file.name;
                preview.appendChild(fileName);
                
                fileUploadArea.appendChild(preview);
            });
            
            const uploadText = fileUploadArea.querySelector('.upload-text');
            uploadText.textContent = `${files.length} dosya seÃ§ildi`;
        }
        
        // Not: Sunucu post'una izin veriyoruz, burada submit'i engellemiyoruz
    });
    </script>
}


